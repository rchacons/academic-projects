/*C5*/SET SCHEMA PUBLIC
drop table if exists SupportMember CASCADE 
drop table if exists Ticket CASCADE 
drop table if exists Ticket_SupportMember CASCADE 
drop table if exists User CASCADE 
create table SupportMember (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (id bigint generated by default as identity (start with 1), comments varbinary(255), state varchar(255), tag varchar(255), title varchar(255), user_id bigint, primary key (id))
create table Ticket_SupportMember (ticketList_id bigint not null, supportMemberList_id bigint not null)
create table User (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table Ticket_SupportMember add constraint FKmsd7edii1ccqndmcew6txn3mn foreign key (supportMemberList_id) references SupportMember
alter table Ticket_SupportMember add constraint FKdb7spbi7ut94qbxo1ia1vwsk7 foreign key (ticketList_id) references Ticket
INSERT INTO USER VALUES(1,'User1')
INSERT INTO USER VALUES(2,'User2')
INSERT INTO SUPPORTMEMBER VALUES(1,'SupportMember1')
INSERT INTO SUPPORTMEMBER VALUES(2,'SupportMember2')
INSERT INTO SUPPORTMEMBER VALUES(3,'SupportMember3')
INSERT INTO TICKET VALUES(1,NULL,'OPEN','TAG1','Ticket test 1',1)
INSERT INTO TICKET VALUES(2,NULL,'OPEN','TAG2','Ticket test 2',1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,2)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(2,3)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
drop table if exists SupportMember CASCADE 
drop table if exists Ticket CASCADE 
drop table if exists Ticket_SupportMember CASCADE 
drop table if exists User CASCADE 
create table SupportMember (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (id bigint generated by default as identity (start with 1), comments varbinary(255), state varchar(255), tag varchar(255), title varchar(255), user_id bigint, primary key (id))
create table Ticket_SupportMember (ticketList_id bigint not null, supportMemberList_id bigint not null)
create table User (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table Ticket_SupportMember add constraint FKmsd7edii1ccqndmcew6txn3mn foreign key (supportMemberList_id) references SupportMember
alter table Ticket_SupportMember add constraint FKdb7spbi7ut94qbxo1ia1vwsk7 foreign key (ticketList_id) references Ticket
INSERT INTO USER VALUES(1,'User1')
INSERT INTO USER VALUES(2,'User2')
INSERT INTO SUPPORTMEMBER VALUES(1,'SupportMember1')
INSERT INTO SUPPORTMEMBER VALUES(2,'SupportMember2')
INSERT INTO SUPPORTMEMBER VALUES(3,'SupportMember3')
INSERT INTO TICKET VALUES(1,NULL,'OPEN','TAG1','Ticket test 1',1)
INSERT INTO TICKET VALUES(2,NULL,'OPEN','TAG2','Ticket test 2',1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,2)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(2,3)
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
drop table if exists SupportMember CASCADE 
drop table if exists Ticket CASCADE 
drop table if exists Ticket_SupportMember CASCADE 
drop table if exists User CASCADE 
create table SupportMember (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (id bigint generated by default as identity (start with 1), comments varbinary(255), state varchar(255), tag varchar(255), title varchar(255), user_id bigint, primary key (id))
create table Ticket_SupportMember (ticketList_id bigint not null, supportMemberList_id bigint not null)
create table User (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table Ticket_SupportMember add constraint FKmsd7edii1ccqndmcew6txn3mn foreign key (supportMemberList_id) references SupportMember
alter table Ticket_SupportMember add constraint FKdb7spbi7ut94qbxo1ia1vwsk7 foreign key (ticketList_id) references Ticket
INSERT INTO USER VALUES(1,'User1')
INSERT INTO USER VALUES(2,'User2')
INSERT INTO SUPPORTMEMBER VALUES(1,'SupportMember1')
INSERT INTO SUPPORTMEMBER VALUES(2,'SupportMember2')
INSERT INTO SUPPORTMEMBER VALUES(3,'SupportMember3')
INSERT INTO TICKET VALUES(1,NULL,'OPEN','TAG1','Ticket test 1',1)
INSERT INTO TICKET VALUES(2,NULL,'OPEN','TAG2','Ticket test 2',1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,2)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(2,3)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
drop table if exists SupportMember CASCADE 
drop table if exists Ticket CASCADE 
drop table if exists Ticket_SupportMember CASCADE 
drop table if exists User CASCADE 
create table SupportMember (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (id bigint generated by default as identity (start with 1), comments varbinary(255), state varchar(255), tag varchar(255), title varchar(255), user_id bigint, primary key (id))
create table Ticket_SupportMember (ticketList_id bigint not null, supportMemberList_id bigint not null)
create table User (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table Ticket_SupportMember add constraint FKmsd7edii1ccqndmcew6txn3mn foreign key (supportMemberList_id) references SupportMember
alter table Ticket_SupportMember add constraint FKdb7spbi7ut94qbxo1ia1vwsk7 foreign key (ticketList_id) references Ticket
INSERT INTO USER VALUES(1,'User1')
INSERT INTO USER VALUES(2,'User2')
INSERT INTO SUPPORTMEMBER VALUES(1,'SupportMember1')
INSERT INTO SUPPORTMEMBER VALUES(2,'SupportMember2')
INSERT INTO SUPPORTMEMBER VALUES(3,'SupportMember3')
INSERT INTO TICKET VALUES(1,NULL,'OPEN','TAG1','Ticket test 1',1)
INSERT INTO TICKET VALUES(2,NULL,'OPEN','TAG2','Ticket test 2',1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,1)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(1,2)
INSERT INTO TICKET_SUPPORTMEMBER VALUES(2,3)
COMMIT
DISCONNECT
